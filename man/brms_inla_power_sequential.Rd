% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/engine-sequential.R
\name{brms_inla_power_sequential}
\alias{brms_inla_power_sequential}
\title{Sequential Bayesian Assurance Simulation Engine}
\usage{
brms_inla_power_sequential(
  formula,
  family = gaussian(),
  family_control = NULL,
  Ntrials = NULL,
  E = NULL,
  scale = NULL,
  priors = NULL,
  data_generator = NULL,
  effect_name,
  effect_grid,
  sample_sizes,
  metric = c("direction", "threshold", "rope", "bf"),
  target = 0.8,
  prob_threshold = 0.95,
  effect_threshold = 0,
  rope_bounds = NULL,
  credible_level = 0.95,
  compute_bayes_factor = FALSE,
  error_sd = 1,
  group_sd = 0.5,
  obs_per_group = 10,
  predictor_means = NULL,
  predictor_sds = NULL,
  seed = 1,
  batch_size = 20,
  min_sims = 40,
  max_sims = 600,
  ci_conf = 0.95,
  margin = 0.02,
  num_threads = "1:1",
  family_args = list(),
  progress = TRUE
)
}
\arguments{
\item{formula}{Model formula for \pkg{brms}.}

\item{family}{GLM family (e.g. \code{gaussian()}, \code{binomial()}).}

\item{family_control}{Optional list for INLA's \code{control.family}.}

\item{Ntrials, E, scale}{Optional values for specific families (can be generated per-row by data generator).}

\item{priors}{Optional \pkg{brms} prior specification.}

\item{data_generator}{Optional function(n, effect) to generate data; defaults to auto-generator.}

\item{effect_name}{Fixed effect to assess.}

\item{effect_grid}{Vector of true effect values.}

\item{sample_sizes}{Vector of sample sizes.}

\item{metric}{One of "direction", "threshold", "rope", "bf".}

\item{target}{Target assurance value for stopping rule.}

\item{prob_threshold}{Posterior probability threshold for decision rules.}

\item{effect_threshold}{Effect size threshold for "threshold" rules.}

\item{rope_bounds}{Optional length-2 numeric vector for ROPE.}

\item{credible_level}{Credible interval coverage (default 0.95).}

\item{compute_bayes_factor}{Logical; if TRUE and metric=="bf", compute BFs.}

\item{error_sd}{Residual SD (Gaussian).}

\item{group_sd}{Random-effect SD.}

\item{obs_per_group}{Obs per grouping level.}

\item{predictor_means, predictor_sds}{Optional named lists for predictors.}

\item{seed}{Random seed.}

\item{batch_size}{Sims per sequential look.}

\item{min_sims}{Minimum sims before early stop.}

\item{max_sims}{Maximum sims per cell.}

\item{ci_conf}{Confidence level for Wilson CI in stop rule.}

\item{margin}{Margin for target (default 0.02).}

\item{num_threads}{INLA threads.}

\item{family_args}{Named list of family-specific params for data generator.}

\item{progress}{Logical; show progress.}
}
\value{
List with:
\describe{
\item{results}{NULL (no per-replicate storage).}
\item{summary}{Aggregated metrics in standard format.}
\item{settings}{Simulation settings.}
}
}
\description{
Simulates assurance for \code{metric} in batches, stopping each cell early if the
Wilson binomial CI for the current pass rate is wholly above/below \code{target +/- margin}.
}
