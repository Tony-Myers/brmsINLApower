% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/engine-main.R
\name{brms_inla_power}
\alias{brms_inla_power}
\title{Core Bayesian Assurance / Power Simulation}
\usage{
brms_inla_power(
  formula,
  family = gaussian(),
  family_control = NULL,
  Ntrials = NULL,
  E = NULL,
  scale = NULL,
  priors = NULL,
  data_generator = NULL,
  effect_name,
  effect_grid = 0.5,
  sample_sizes = c(50, 100, 200, 400),
  nsims = 200,
  power_threshold = 0.8,
  precision_target = NULL,
  prob_threshold = 0.95,
  effect_threshold = 0,
  credible_level = 0.95,
  rope_bounds = NULL,
  error_sd = 1,
  group_sd = 0.5,
  obs_per_group = 10,
  predictor_means = NULL,
  predictor_sds = NULL,
  seed = 123,
  inla_hyper = NULL,
  compute_bayes_factor = FALSE,
  progress = c("auto", "text", "none"),
  family_args = list()
)
}
\arguments{
\item{formula}{Model formula.}

\item{family}{brms GLM family (e.g., \code{gaussian()}, \code{binomial()}).}

\item{family_control}{Optional list passed to INLA's \code{control.family}.}

\item{Ntrials, E, scale}{Optional vectors for binomial trials, Poisson exposure, family-specific scale.}

\item{priors}{Optional \code{brms::prior()} specification.}

\item{data_generator}{Optional function \code{function(n, effect)} returning a dataset.}

\item{effect_name}{Fixed effect name to assess.}

\item{effect_grid}{Vector of true effect values to simulate.}

\item{sample_sizes}{Vector of sample sizes.}

\item{nsims}{Simulations per (n, effect) cell.}

\item{power_threshold}{Decision probability threshold for summary.}

\item{precision_target}{Optional CI width target for precision assurance.}

\item{prob_threshold}{Threshold for decision metrics ("direction", "threshold", "rope").}

\item{effect_threshold}{Effect-size threshold for threshold-based metrics.}

\item{credible_level}{Credible interval level (default 0.95).}

\item{rope_bounds}{Optional length-2 numeric vector for ROPE.}

\item{error_sd}{Gaussian-family residual SD.}

\item{group_sd}{Random-effect SD.}

\item{obs_per_group}{Obs. per group.}

\item{predictor_means, predictor_sds}{Optional named lists for predictors.}

\item{seed}{Random seed.}

\item{inla_hyper}{Optional INLA hyperparameters.}

\item{compute_bayes_factor}{Logical; if TRUE, compute BF10 for \code{effect_name}.}

\item{progress}{"auto", "text", or "none".}

\item{family_args}{List of family-specific args passed to the generator.}
}
\value{
List with:
\describe{
\item{results}{All per-simulation replicate results.}
\item{summary}{Per-cell aggregated metrics.}
\item{settings}{List of settings and metadata.}
}
}
\description{
Runs Monte Carlo simulations for Bayesian assurance / power based on
a \pkg{brms}-style model formula with an \pkg{INLA} backend.
}
\details{
Supports metrics:
\itemize{
\item Posterior probability of correct direction
\item Posterior probability exceeding a threshold
\item Posterior probability inside a ROPE
\item Precision assurance (credible interval width <= target)
\item Bayes factor (Savageâ€“Dickey method)
}
}
